# 
# OCS Inventory "Unix Unified Agent" Configuration File
# used by hourly cron job
#

# Add tools directory if needed (tw_cli, hpacucli, ipssend, ...)
PATH=/sbin:/bin:/usr/sbin:/usr/bin

# Mode, change to "cron" to activate
<% if @ocsmodes.empty? -%>
OCSMODE[0]=none
<% else -%>
<%   counter = 0 -%>
<%   @ocsmodes.each do |ocsmode| -%>
OCSMODE[<%= counter %>]=<%= ocsmode %>
<%     counter += 1 -%>
<%   end -%>
<% end -%>


# can be used to override the ocsinventory-agent.cfg setup.
# OCSSERVER[0]=your.ocsserver.name
# 
# corresponds with --local=/var/lib/ocsinventory-agent
<% if @ocsservers.empty? -%>
OCSSERVER[0]=http://localhost/ocsinventory
<% else -%>
<%   counter = 0 -%>
<%   @ocsservers.each do |ocsserver| -%>
OCSSERVER[<%= counter %>]=<%= ocsserver %>
<%     counter += 1 -%>
<%   end -%>
<% end -%>

# Wait before inventory 
<% if @ocspauses.empty? -%>
OCSPAUSE[0]=100
<% else -%>
<%   counter = 0 -%>
<%   @ocspauses.each do |ocspause| -%>
OCSPAUSE[<%= counter %>]=<%= ocspause %>
<%     counter += 1 -%>
<%   end -%>
<% end -%>

# Administrative TAG (optional, must be filed before first inventory)
<% if @ocstags.empty? -%>
OCSTAG[0]=
<% else -%>
<%   counter = 0 -%>
<%   @ocstags.each do |ocstag| -%>
OCSTAG[<%= counter %>]=<%= ocstag  %>
<%     counter += 1 -%>
<%   end -%>
<% end -%>
